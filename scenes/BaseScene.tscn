[gd_scene load_steps=7 format=2]

[ext_resource path="res://scenes/menu/main_menu/MainMenu.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/controllers/SaveController.tscn" type="PackedScene" id=2]
[ext_resource path="res://levels/GameScene.tscn" type="PackedScene" id=3]
[ext_resource path="res://scenes/menu/options_menu/OptionsMenu.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/menu/death_menu/DeathMenu.tscn" type="PackedScene" id=5]
[ext_resource path="res://scenes/menu/pause_menu/PauseMenu.tscn" type="PackedScene" id=6]

[node name="BaseScene" type="Control"]
pause_mode = 2
anchor_right = 1.0
anchor_bottom = 1.0

[node name="MainMenu" parent="." instance=ExtResource( 1 )]

[node name="SaveController" parent="." instance=ExtResource( 2 )]

[node name="GameScene" parent="." instance=ExtResource( 3 )]
pause_mode = 1
visible = false

[node name="OptionsMenu" parent="." instance=ExtResource( 4 )]
visible = false

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="PauseMenu" parent="CanvasLayer" instance=ExtResource( 6 )]
pause_mode = 0
visible = false

[node name="DeathMenu" parent="CanvasLayer" instance=ExtResource( 5 )]
pause_mode = 0
visible = false

[connection signal="gameResumed" from="MainMenu" to="GameScene" method="_on_game_resume"]
[connection signal="gameStarted" from="MainMenu" to="GameScene" method="_on_game_started"]
[connection signal="optionsPressed" from="MainMenu" to="OptionsMenu" method="_on_show_settings"]
[connection signal="onLevelResumed" from="GameScene" to="SaveController" method="_on_level_resumed"]
[connection signal="gameExit" from="CanvasLayer/PauseMenu" to="SaveController" method="_on_PauseMenu_gameExit"]
[connection signal="gameExit" from="CanvasLayer/PauseMenu" to="GameScene" method="_on_game_exit"]
[connection signal="pause" from="CanvasLayer/PauseMenu" to="GameScene" method="_on_pause"]
[connection signal="restart" from="CanvasLayer/PauseMenu" to="GameScene" method="_on_restart"]
[connection signal="resume" from="CanvasLayer/PauseMenu" to="GameScene" method="_on_unpaused"]
[connection signal="showSettings" from="CanvasLayer/PauseMenu" to="OptionsMenu" method="_on_show_settings"]
